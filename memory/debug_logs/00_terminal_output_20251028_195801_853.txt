================================================================================
TERMINAL OUTPUT FOR THIS TURN
================================================================================
Timestamp: 2025-10-28 19:58:04
Turn ID: turn_20251028_195801_853
================================================================================

   ğŸ“ Debug: User query logged to 01_user_query_20251028_195801_853.txt
   ğŸ” Step 1: Quick keyword extraction...
      Quick keywords: ['any active', 'active plans', 'dont its', 'its fine', 'fine just']
   ğŸ“š Step 2: Retrieving recent context...
ğŸ” Crawler: Searching with intent:
   Query Type: chat
   Keywords: ['any active', 'active plans', 'dont its', 'its fine', 'fine just', 'just report', 'testing something', 'able']
ğŸ“‹ Found 0 active tasks
ğŸ“… Search range: ALL DAYS (unlimited)

ğŸ” VECTOR SEARCH (Primary Method):
   ğŸ” Ranked multi-keyword search: 'any active active plans dont its its fine fine just just rep...'
      Query keywords (15): ['any', 'active', 'active', 'plans', 'dont', 'its', 'its', 'fine', 'fine', 'just', 'just', 'report', 'testing', 'something', 'able']
      Found 5 turns with keyword matches
   ğŸ¯ Top matches:
      1. score=17.28 | 7 kw matches | avg_sim=0.451 | Hello, Hello...
      2. score=14.91 | 6 kw matches | avg_sim=0.439 | help, Hello!...
      3. score=2.96 | 1 kw matches | avg_sim=0.409 | History...
   âœ… Returning 5 ranked results
   ğŸ”‘ Search query (keywords): 'any active active plans dont its its fine fine just just report testing something able'
   âœ… Vector search successful, skipping keyword search

ğŸ“Š SEARCH RESULTS SUMMARY:
   Vector results: 5
   Keyword results: 0
   Total candidates: 5
   âœ… Window tracking: 11 turns in window, 0 recently seen
âœ… Retrieved context: 3 snippets, 3 sources
      Retrieved 3 recent contexts
   ğŸ§  Step 3: Analyzing intent WITH context...
   ğŸ“… Phase 6.2: Analyzing with plan context (4 active plans)
      Type: task_request
      Keywords: ['able', 'tell', 'active', 'plans', 'dont']
      Topics: ['practice', '7-Day Progressive Rowing Plan', 'week']
   ğŸ“ Debug: User query logged to 01_user_query_20251028_195801_853.txt
   ğŸ·ï¸  Phase 4.1: Extracting topics...
      Extracted topics: ['active plans', 'fine just report', 'testing something', 'able', 'active']
   ğŸ” Step 4: Full context retrieval with refined intent...
      Using plan-boosted retrieval (4 active plans)
ğŸ” Crawler: Searching with intent:
   Query Type: task_request
   Keywords: ['able', 'tell', 'active', 'plans', 'dont', 'fine', 'report', 'dont', 'access', 'testing']
   Primary Topics: ['practice', '7-Day Progressive Rowing Plan', 'week']
ğŸ“‹ Found 0 active tasks
ğŸ“… Search range: ALL DAYS (unlimited)

ğŸ” VECTOR SEARCH (Primary Method):
   ğŸ” Ranked multi-keyword search: 'able tell active plans dont fine report dont access testing ...'
      Query keywords (16): ['able', 'tell', 'active', 'plans', 'dont', 'fine', 'report', 'dont', 'access', 'testing', 'practice', '7-Day', 'Progressive', 'Rowing', 'Plan', 'week']
      Found 4 turns with keyword matches
   ğŸ¯ Top matches:
      1. score=14.77 | 6 kw matches | avg_sim=0.445 | help, help...
      2. score=14.47 | 6 kw matches | avg_sim=0.446 | Help, Hello...
      3. score=2.95 | 1 kw matches | avg_sim=0.400 | getting started...
   âœ… Returning 4 ranked results
   ğŸ”‘ Search query (keywords): 'able tell active plans dont fine report dont access testing practice 7-Day Progressive Rowing Plan week'
   âœ… Vector search successful, skipping keyword search

ğŸ“Š SEARCH RESULTS SUMMARY:
   Vector results: 4
   Keyword results: 0
   Total candidates: 4
   ğŸ”„ Deduplicated turns: 4 â†’ 2 (2 skipped)
   âœ… Window tracking: 13 turns in window, 0 recently seen
âœ… Retrieved context: 2 snippets, 2 sources
      Retrieved: 2 contexts (before topic filtering)
   ğŸ” Phase 4.1: Filtering by active topics...
      Filtered: 2 â†’ 0 contexts
      Final context count: 0
   ğŸ“ Debug: Retrieved context logged to 02_retrieved_context_20251028_195801_853.txt
   ğŸ“ Debug: Sliding window logged to 03_sliding_window_20251028_195801_853.txt
   ğŸ’§ Building contextualized prompt...

ğŸ’§ Building prompt...
   ğŸ“Š Token allocation:
      System: 74 / 500
      Tasks: 0 / 500
      Window budget: 2955
      Retrieved budget: 1970
      ğŸ“Š Window formatting complete: 8/8 turns included, 0 omitted, 795/2955 tokens used
   âœ… Prompt built:
      Total tokens: 845 / 6000
      Window: 730 tokens
      Retrieved: 0 tokens
      User: 41 tokens
      ğŸ“ Full prompt length: 3339 chars
      ğŸ“‹ Sliding window: 8 turns
   ğŸ“ Debug: Full prompt logged to 04_llm_prompt_20251028_195801_853.txt
   ğŸ¤– Calling LLM with context...
ğŸŒ Sending direct query to external API...
âœ… Chat response received
   ğŸ“Š Phase 4.1: Analyzing context usage...
      Citations found: 0
      Turn IDs used: set()
      Context efficiency: 0.0%

ğŸ’¬ Response: I do have access to your active plans from our recent conversations. Currently, you have these active plans: - 7-Day Walking Plan (2025-10-29 to 2025-11-04) - 2-Week LeetCode Practice Plan (2025-10-29 to 2025-11-11) - 7-Day Progressive Rowing Plan (2025-11-03 to 2025-11-09) If you want, I can provide more details or help you manage any of these!
   ğŸ“ Debug: LLM response logged to 05_llm_response_20251028_195801_853.txt
   ğŸ“ Using inline metadata (LLM extraction disabled)...
   ğŸ’¾ Logging turn to storage...
   ğŸ’¾ Logged turn t_20251028_195804_a8bd54... (seq=0) to day 2025-10-28
   ğŸ“‹ Adding to sliding window...
   ğŸ’¾ Saved sliding window state: 9 turns
   âœ… Turn logged: t_20251028_195804_a8bd54
   âš ï¸ No keywords available for embedding
   ğŸ¯ Phase 4.3: Applying adaptive compression...
      ğŸ“Š Sliding window has 9 turns - checking compression...
      Compression decision: no_compression
      Reason: Related topics (distance: 0.000)
      â„¹ï¸  No compression needed
