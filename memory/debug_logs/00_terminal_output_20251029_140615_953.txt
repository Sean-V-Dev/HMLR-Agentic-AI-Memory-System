================================================================================
TERMINAL OUTPUT FOR THIS TURN
================================================================================
Timestamp: 2025-10-29 14:06:18
Turn ID: turn_20251029_140615_953
================================================================================

   ğŸ“ Debug: User query logged to 01_user_query_20251029_140615_953.txt
   ğŸ” Step 1: Quick keyword extraction...
      Quick keywords: ['coding interview', 'interview tips', 'tips its', 'recall', 'time']
   ğŸ“š Step 2: Retrieving recent context...
ğŸ” Crawler: Searching with intent:
   Query Type: chat
   Keywords: ['coding interview', 'interview tips', 'tips its', 'recall', 'time', 'advised', 'coding', 'interview']
ğŸ“‹ Found 0 active tasks
ğŸ“… Search range: ALL DAYS (unlimited)

ğŸ” VECTOR SEARCH (Primary Method):
   ğŸ” Ranked multi-keyword search: 'coding interview interview tips tips its recall time advised...'
      Query keywords (11): ['coding', 'interview', 'interview', 'tips', 'tips', 'its', 'recall', 'time', 'advised', 'coding', 'interview']
      Found 12 turns with keyword matches
   ğŸ¯ Top matches:
      1. score=10.05 | 4 kw matches | avg_sim=0.435 | History, History...
      2. score=7.53 | 3 kw matches | avg_sim=0.517 | developer, memory retrieval mec...
      3. score=7.34 | 3 kw matches | avg_sim=0.563 | computing, memory property...
   âœ… Returning 6 ranked results
   ğŸ”‘ Search query (keywords): 'coding interview interview tips tips its recall time advised coding interview'
   âœ… Vector search successful, skipping keyword search

ğŸ“Š SEARCH RESULTS SUMMARY:
   Vector results: 6
   Keyword results: 0
   Total candidates: 6
   ğŸ”„ Deduplicated turns: 6 â†’ 4 (2 skipped)
   âœ… Window tracking: 20 turns in window, 0 recently seen
âœ… Retrieved context: 3 snippets, 2 sources
      Retrieved 3 recent contexts
   ğŸ§  Step 3: Analyzing intent WITH context...
   ğŸ“… Phase 6.2: Analyzing with plan context (4 active plans)
      Type: memory_query
      Keywords: ['recall', 'time', 'advised', 'coding', 'interview']
      Topics: ['product', '500m', 'around']
   ğŸ“ Debug: User query logged to 01_user_query_20251029_140615_953.txt
   ğŸ·ï¸  Phase 4.1: Extracting topics...
      Extracted topics: ['coding interview tips', 'recall', 'time', 'advised', 'coding']
   ğŸ” Step 4: Full context retrieval with refined intent...
      Using plan-boosted retrieval (4 active plans)
ğŸ” Crawler: Searching with intent:
   Query Type: memory_query
   Keywords: ['recall', 'time', 'advised', 'coding', 'interview', 'tips', 'report', 'cant', 'testing', 'system']
   Primary Topics: ['product', '500m', 'around']
ğŸ“‹ Found 0 active tasks
ğŸ“… Search range: ALL DAYS (unlimited)

ğŸ” VECTOR SEARCH (Primary Method):
   ğŸ” Ranked multi-keyword search: 'recall time advised coding interview tips report cant testin...'
      Query keywords (13): ['recall', 'time', 'advised', 'coding', 'interview', 'tips', 'report', 'cant', 'testing', 'system', 'product', '500m', 'around']
      Found 15 turns with keyword matches
   ğŸ¯ Top matches:
      1. score=7.58 | 3 kw matches | avg_sim=0.455 | reminder, reminder...
      2. score=7.54 | 3 kw matches | avg_sim=0.527 | memory-retrieval tes, help...
      3. score=7.44 | 3 kw matches | avg_sim=0.525 | memory retrieval mec, developer...
   âœ… Returning 10 ranked results
   ğŸ”‘ Search query (keywords): 'recall time advised coding interview tips report cant testing system product 500m around'
   âœ… Vector search successful, skipping keyword search

ğŸ“Š SEARCH RESULTS SUMMARY:
   Vector results: 10
   Keyword results: 0
   Total candidates: 10
   ğŸ”„ Deduplicated turns: 10 â†’ 5 (5 skipped)
   âœ… Window tracking: 25 turns in window, 0 recently seen
âœ… Retrieved context: 5 snippets, 4 sources
      Retrieved: 5 contexts (before topic filtering)
   ğŸ” Phase 4.1: Filtering by active topics...
      Filtered: 5 â†’ 4 contexts
      Final context count: 4
   ğŸ“ Debug: Retrieved context logged to 02_retrieved_context_20251029_140615_953.txt
   ğŸ“ Debug: Sliding window logged to 03_sliding_window_20251029_140615_953.txt
   ğŸ’§ Building contextualized prompt...

ğŸ’§ Building prompt...
   ğŸ“Š Token allocation:
      System: 74 / 500
      Tasks: 0 / 500
      Window budget: 2955
      Retrieved budget: 1970
      ğŸ“Š Window formatting complete: 11/11 turns included, 0 omitted, 1336/2955 tokens used
   âœ… Prompt built:
      Total tokens: 1729 / 6000
      Window: 1244 tokens
      Retrieved: 372 tokens
      User: 39 tokens
      ğŸ“ Full prompt length: 6866 chars
      ğŸ“‹ Sliding window: 11 turns
   ğŸ“ Debug: Full prompt logged to 04_llm_prompt_20251029_140615_953.txt
   ğŸ¤– Calling LLM with context...
ğŸŒ Sending direct query to external API...
âœ… Chat response received
   ğŸ“Š Phase 4.1: Analyzing context usage...
      Citations found: 0
      Turn IDs used: set()
      Context efficiency: 0.0%

ğŸ’¬ Response: I have not yet advised you specifically about coding interview tips in our recent conversations. If you'd like, I can certainly provide you with some tailored advice on coding interviews now! Just let me know.
   ğŸ“ Debug: LLM response logged to 05_llm_response_20251029_140615_953.txt
   ğŸ“ Extracted 11 keywords from query: ['coding interview tips', 'recall', 'time', 'advised', 'coding']
   ğŸ·ï¸  Using provided topics (11): ['coding interview tips', 'recall', 'time', 'advised', 'coding']
   ğŸ’¾ Logging turn to storage...
   ğŸ’¾ Logged turn t_20251029_140618_cc4adf... (seq=1) to day 2025-10-29
      ğŸ”‘ Saved 11 keywords with lineage
   ğŸ“‹ Adding to sliding window...
   ğŸ’¾ Saved sliding window state: 12 turns
   âœ… Turn logged: t_20251029_140618_cc4adf
   ğŸ” Generating embeddings from 11 LLM-extracted keywords...
   âš ï¸ Could not generate embeddings: 'EmbeddingManager' object has no attribute 'save_turn_embeddings'
   ğŸ¯ Phase 4.3: Applying adaptive compression...
      ğŸ“Š Sliding window has 12 turns - checking compression...
      Compression decision: compress_partial
      Reason: Very different but recent (dist: 1.001, gap: 0.1h)
      âœ… Compressed 2 turns
   ğŸ’¾ Saved sliding window state: 12 turns
